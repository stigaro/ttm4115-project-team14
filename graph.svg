<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="1802pt" height="506pt"
 viewBox="0.00 0.00 1801.50 506.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 502.4)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-502.4 1797.5,-502.4 1797.5,4 -4,4"/>
<!-- initial -->
<g id="node1" class="node">
<title>initial</title>
<ellipse fill="#000000" stroke="#000000" cx="768.5" cy="-491.2" rx="7.2" ry="7.2"/>
</g>
<!-- listening -->
<g id="node2" class="node">
<title>listening</title>
<text text-anchor="start" x="741" y="-419.3" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00" fill="#000000">listening</text>
<text text-anchor="start" x="713.5" y="-399.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">register / register()</text>
<text text-anchor="start" x="664.5" y="-384.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">save_message / save_message(*)</text>
<polygon fill="#000000" stroke="#000000" points="661.5,-412.5 661.5,-412.5 876.5,-412.5 876.5,-412.5 661.5,-412.5"/>
<path fill="none" stroke="#000000" d="M673,-378C673,-378 864,-378 864,-378 870,-378 876,-384 876,-390 876,-390 876,-421 876,-421 876,-427 870,-433 864,-433 864,-433 673,-433 673,-433 667,-433 661,-427 661,-421 661,-421 661,-390 661,-390 661,-384 667,-378 673,-378"/>
</g>
<!-- initial&#45;&gt;listening -->
<g id="edge1" class="edge">
<title>initial&#45;&gt;listening</title>
<path fill="none" stroke="#000000" d="M768.5,-483.8933C768.5,-474.8819 768.5,-458.8857 768.5,-443.6827"/>
<polygon fill="#000000" stroke="#000000" points="772.0001,-443.3798 768.5,-433.3799 765.0001,-443.3799 772.0001,-443.3798"/>
<text text-anchor="middle" x="800.5" y="-454.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> &#160;/on_init();</text>
</g>
<!-- check_recipient -->
<g id="node3" class="node">
<title>check_recipient</title>
<text text-anchor="start" x="317.5" y="-298.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00" fill="#000000">check_recipient</text>
<text text-anchor="start" x="266.5" y="-278.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">entry / start_timer(time_out, 3000)</text>
<text text-anchor="start" x="264.5" y="-263.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">save_message / save_message(*)</text>
<text text-anchor="start" x="290" y="-248.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">exit / stop_timer(time_out)</text>
<polygon fill="#000000" stroke="#000000" points="261.5,-292 261.5,-292 476.5,-292 476.5,-292 261.5,-292"/>
<path fill="none" stroke="#000000" d="M273,-242C273,-242 464,-242 464,-242 470,-242 476,-248 476,-254 476,-254 476,-300 476,-300 476,-306 470,-312 464,-312 464,-312 273,-312 273,-312 267,-312 261,-306 261,-300 261,-300 261,-254 261,-254 261,-248 267,-242 273,-242"/>
</g>
<!-- listening&#45;&gt;check_recipient -->
<g id="edge12" class="edge">
<title>listening&#45;&gt;check_recipient</title>
<path fill="none" stroke="#000000" d="M682.69,-377.9335C625.2644,-359.4856 548.9504,-334.9697 485.9141,-314.7193"/>
<polygon fill="#000000" stroke="#000000" points="486.9068,-311.3621 476.3155,-311.6357 484.7658,-318.0266 486.9068,-311.3621"/>
<text text-anchor="middle" x="665" y="-348.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> send /</text>
<text text-anchor="middle" x="665" y="-333.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">query_server(*);</text>
</g>
<!-- check_replay_recipient -->
<g id="node4" class="node">
<title>check_replay_recipient</title>
<text text-anchor="start" x="694" y="-298.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00" fill="#000000">check_replay_recipient</text>
<text text-anchor="start" x="666.5" y="-278.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">entry / start_timer(time_out, 3000)</text>
<text text-anchor="start" x="664.5" y="-263.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">save_message / save_message(*)</text>
<text text-anchor="start" x="690" y="-248.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">exit / stop_timer(time_out)</text>
<polygon fill="#000000" stroke="#000000" points="661.5,-292 661.5,-292 876.5,-292 876.5,-292 661.5,-292"/>
<path fill="none" stroke="#000000" d="M673,-242C673,-242 864,-242 864,-242 870,-242 876,-248 876,-254 876,-254 876,-300 876,-300 876,-306 870,-312 864,-312 864,-312 673,-312 673,-312 667,-312 661,-306 661,-300 661,-300 661,-254 661,-254 661,-248 667,-242 673,-242"/>
</g>
<!-- listening&#45;&gt;check_replay_recipient -->
<g id="edge6" class="edge">
<title>listening&#45;&gt;check_replay_recipient</title>
<path fill="none" stroke="#000000" d="M768.5,-377.9335C768.5,-361.7557 768.5,-340.9114 768.5,-322.3695"/>
<polygon fill="#000000" stroke="#000000" points="772.0001,-322.3496 768.5,-312.3496 765.0001,-322.3496 772.0001,-322.3496"/>
<text text-anchor="middle" x="817" y="-348.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> replay /</text>
<text text-anchor="middle" x="817" y="-333.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">query_server(*);</text>
</g>
<!-- playing -->
<g id="node7" class="node">
<title>playing</title>
<text text-anchor="start" x="1241.5" y="-298.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00" fill="#000000">playing</text>
<text text-anchor="start" x="1182" y="-278.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">entry / stop_timer(time_out)</text>
<text text-anchor="start" x="1125.5" y="-263.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">message_played / start_timer(&#39;time_out&#39;,3000)</text>
<text text-anchor="start" x="1104.5" y="-248.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">save_message / save_message(*); save_message(*)</text>
<polygon fill="#000000" stroke="#000000" points="1101.5,-292 1101.5,-292 1429.5,-292 1429.5,-292 1101.5,-292"/>
<path fill="none" stroke="#000000" d="M1113.5,-242C1113.5,-242 1417.5,-242 1417.5,-242 1423.5,-242 1429.5,-248 1429.5,-254 1429.5,-254 1429.5,-300 1429.5,-300 1429.5,-306 1423.5,-312 1417.5,-312 1417.5,-312 1113.5,-312 1113.5,-312 1107.5,-312 1101.5,-306 1101.5,-300 1101.5,-300 1101.5,-254 1101.5,-254 1101.5,-248 1107.5,-242 1113.5,-242"/>
</g>
<!-- listening&#45;&gt;playing -->
<g id="edge2" class="edge">
<title>listening&#45;&gt;playing</title>
<path fill="none" stroke="#000000" d="M876.1135,-400.3639C1002.4828,-393.4741 1198.5233,-379.774 1226.5,-360 1239.5116,-350.8034 1248.3102,-336.1126 1254.2012,-321.6289"/>
<polygon fill="#000000" stroke="#000000" points="1257.5018,-322.7942 1257.6677,-312.2007 1250.9318,-320.3786 1257.5018,-322.7942"/>
<text text-anchor="middle" x="1264" y="-341.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> play</text>
</g>
<!-- recording -->
<g id="node8" class="node">
<title>recording</title>
<text text-anchor="start" x="76.5" y="-147.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00" fill="#000000">recording</text>
<text text-anchor="start" x="3.5" y="-127.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">save_message / save_message(*)</text>
<polygon fill="#000000" stroke="#000000" points=".5,-141 .5,-141 215.5,-141 215.5,-141 .5,-141"/>
<path fill="none" stroke="#000000" d="M12,-121C12,-121 203,-121 203,-121 209,-121 215,-127 215,-133 215,-133 215,-149 215,-149 215,-155 209,-161 203,-161 203,-161 12,-161 12,-161 6,-161 0,-155 0,-149 0,-149 0,-133 0,-133 0,-127 6,-121 12,-121"/>
</g>
<!-- check_recipient&#45;&gt;recording -->
<g id="edge15" class="edge">
<title>check_recipient&#45;&gt;recording</title>
<path fill="none" stroke="#000000" d="M260.7452,-251.9889C238.7099,-244.6469 216.2413,-235.4271 196.5,-224 171.6047,-209.5895 148.0165,-187.0309 131.3866,-169.0669"/>
<polygon fill="#000000" stroke="#000000" points="133.5592,-166.2513 124.2557,-161.1823 128.3675,-170.9467 133.5592,-166.2513"/>
<text text-anchor="middle" x="235" y="-205.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> recipient_ok</text>
</g>
<!-- exception -->
<g id="node9" class="node">
<title>exception</title>
<text text-anchor="start" x="393" y="-162.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00" fill="#000000">exception</text>
<text text-anchor="start" x="352.5" y="-142.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">entry / update_led(True)</text>
<text text-anchor="start" x="305.5" y="-127.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">entry / self.update_status(EXCEPTION)</text>
<text text-anchor="start" x="320.5" y="-112.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">save_message / save_message(*)</text>
<polygon fill="#000000" stroke="#000000" points="302.5,-156 302.5,-156 547.5,-156 547.5,-156 302.5,-156"/>
<path fill="none" stroke="#000000" d="M314,-106C314,-106 535,-106 535,-106 541,-106 547,-112 547,-118 547,-118 547,-164 547,-164 547,-170 541,-176 535,-176 535,-176 314,-176 314,-176 308,-176 302,-170 302,-164 302,-164 302,-118 302,-118 302,-112 308,-106 314,-106"/>
</g>
<!-- check_recipient&#45;&gt;exception -->
<g id="edge13" class="edge">
<title>check_recipient&#45;&gt;exception</title>
<path fill="none" stroke="#000000" d="M393.1245,-241.9262C396.5851,-236.1036 399.8569,-230.0031 402.5,-224 407.7613,-212.0502 411.9976,-198.5617 415.2945,-185.9862"/>
<polygon fill="#000000" stroke="#000000" points="418.7255,-186.6922 417.7388,-176.1434 411.9318,-185.0051 418.7255,-186.6922"/>
<text text-anchor="middle" x="504.5" y="-212.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> recipient_not_found /</text>
<text text-anchor="middle" x="504.5" y="-197.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">tts_error(recipient_not_found);</text>
</g>
<!-- check_recipient&#45;&gt;exception -->
<g id="edge14" class="edge">
<title>check_recipient&#45;&gt;exception</title>
<path fill="none" stroke="#000000" d="M299.4762,-241.905C281.6323,-228.0949 270.4311,-211.3867 282.5,-194 285.6405,-189.4757 291.5506,-185.014 299.2405,-180.7153"/>
<polygon fill="#000000" stroke="#000000" points="300.9237,-183.7857 308.2367,-176.1194 297.7391,-177.552 300.9237,-183.7857"/>
<text text-anchor="middle" x="340.5" y="-212.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> time_out /</text>
<text text-anchor="middle" x="340.5" y="-197.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">tts_error(time_out);</text>
</g>
<!-- replay -->
<g id="node5" class="node">
<title>replay</title>
<text text-anchor="start" x="909" y="-147.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00" fill="#000000">replay</text>
<text text-anchor="start" x="824.5" y="-127.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">save_message / save_message(*)</text>
<polygon fill="#000000" stroke="#000000" points="821.5,-141 821.5,-141 1036.5,-141 1036.5,-141 821.5,-141"/>
<path fill="none" stroke="#000000" d="M833,-121C833,-121 1024,-121 1024,-121 1030,-121 1036,-127 1036,-133 1036,-133 1036,-149 1036,-149 1036,-155 1030,-161 1024,-161 1024,-161 833,-161 833,-161 827,-161 821,-155 821,-149 821,-149 821,-133 821,-133 821,-127 827,-121 833,-121"/>
</g>
<!-- check_replay_recipient&#45;&gt;replay -->
<g id="edge9" class="edge">
<title>check_replay_recipient&#45;&gt;replay</title>
<path fill="none" stroke="#000000" d="M876.4935,-257.1773C910.2557,-248.6388 941.3659,-237.4856 951.5,-224 963.1722,-208.4676 957.0701,-187.3198 948.2301,-170.2585"/>
<polygon fill="#000000" stroke="#000000" points="951.1076,-168.2372 943.1327,-161.2621 945.0172,-171.688 951.1076,-168.2372"/>
<text text-anchor="middle" x="997" y="-205.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> recipient_ok</text>
</g>
<!-- check_replay_recipient&#45;&gt;exception -->
<g id="edge7" class="edge">
<title>check_replay_recipient&#45;&gt;exception</title>
<path fill="none" stroke="#000000" d="M767.6814,-241.7983C765.403,-225.017 759.7415,-206.028 746.5,-194 718.7068,-168.7538 633.3713,-155.4425 557.5316,-148.4752"/>
<polygon fill="#000000" stroke="#000000" points="557.6501,-144.972 547.3799,-147.5746 557.0315,-151.9447 557.6501,-144.972"/>
<text text-anchor="middle" x="855.5" y="-212.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> recipient_not_found /</text>
<text text-anchor="middle" x="855.5" y="-197.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">tts_error(recipient_not_found);</text>
</g>
<!-- check_replay_recipient&#45;&gt;exception -->
<g id="edge8" class="edge">
<title>check_replay_recipient&#45;&gt;exception</title>
<path fill="none" stroke="#000000" d="M660.6534,-243.1393C648.6999,-237.5432 637.0504,-231.1809 626.5,-224 611.6708,-213.9069 614.6405,-203.62 599.5,-194 586.2978,-185.6116 571.6947,-178.4888 556.7189,-172.4553"/>
<polygon fill="#000000" stroke="#000000" points="557.9449,-169.1768 547.3555,-168.8377 555.4222,-175.7065 557.9449,-169.1768"/>
<text text-anchor="middle" x="684.5" y="-212.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> time_out /</text>
<text text-anchor="middle" x="684.5" y="-197.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">tts_error(time_out);</text>
</g>
<!-- playing_replay -->
<g id="node6" class="node">
<title>playing_replay</title>
<text text-anchor="start" x="948.5" y="-41.3" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00" fill="#000000">playing_replay</text>
<text text-anchor="start" x="891.5" y="-21.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">save_message / save_message(*)</text>
<text text-anchor="start" x="907" y="-6.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">replay_save_message / defer</text>
<polygon fill="#000000" stroke="#000000" points="888.5,-34.5 888.5,-34.5 1103.5,-34.5 1103.5,-34.5 888.5,-34.5"/>
<path fill="none" stroke="#000000" d="M900,0C900,0 1091,0 1091,0 1097,0 1103,-6 1103,-12 1103,-12 1103,-43 1103,-43 1103,-49 1097,-55 1091,-55 1091,-55 900,-55 900,-55 894,-55 888,-49 888,-43 888,-43 888,-12 888,-12 888,-6 894,0 900,0"/>
</g>
<!-- replay&#45;&gt;playing_replay -->
<g id="edge10" class="edge">
<title>replay&#45;&gt;playing_replay</title>
<path fill="none" stroke="#000000" d="M919.5669,-120.7012C914.7411,-106.4811 911.2787,-87.5039 919.5,-73 921.6755,-69.162 924.3178,-65.6129 927.2949,-62.336"/>
<polygon fill="#000000" stroke="#000000" points="929.9756,-64.6154 934.7872,-55.1762 925.1394,-59.5546 929.9756,-64.6154"/>
<text text-anchor="middle" x="989.5" y="-76.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> replay_save_message</text>
</g>
<!-- playing_replay&#45;&gt;listening -->
<g id="edge11" class="edge">
<title>playing_replay&#45;&gt;listening</title>
<path fill="none" stroke="#000000" d="M1045.548,-55.2788C1051.1466,-60.4364 1056.0616,-66.3368 1059.5,-73 1090.5438,-133.1597 1073.1981,-165.2859 1039.5,-224 998.1939,-295.9699 915.3765,-345.0178 852.1079,-373.8032"/>
<polygon fill="#000000" stroke="#000000" points="850.6271,-370.6312 842.9223,-377.9035 853.4805,-377.0233 850.6271,-370.6312"/>
<text text-anchor="middle" x="1104" y="-205.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> replay_finished</text>
</g>
<!-- playing&#45;&gt;listening -->
<g id="edge5" class="edge">
<title>playing&#45;&gt;listening</title>
<path fill="none" stroke="#000000" d="M1162.9664,-312.1581C1150.4274,-317.5986 1137.9955,-323.5701 1126.5,-330 1107.4144,-340.6754 1107.6532,-351.5105 1087.5,-360 1051.852,-375.0166 961.629,-387.0868 886.1964,-395.0119"/>
<polygon fill="#000000" stroke="#000000" points="885.718,-391.5427 876.1318,-396.0542 886.4391,-398.5054 885.718,-391.5427"/>
<text text-anchor="middle" x="1174.5" y="-348.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> time_out /</text>
<text text-anchor="middle" x="1174.5" y="-333.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">iterate_queue();</text>
</g>
<!-- playing&#45;&gt;playing -->
<g id="edge3" class="edge">
<title>playing&#45;&gt;playing</title>
<path fill="none" stroke="#000000" d="M1429.5725,-281.6022C1440.7234,-280.5428 1447.5,-279.0088 1447.5,-277 1447.5,-275.7131 1444.7189,-274.6211 1439.7882,-273.7239"/>
<polygon fill="#000000" stroke="#000000" points="1439.9399,-270.2142 1429.5725,-272.3978 1439.0387,-277.156 1439.9399,-270.2142"/>
<text text-anchor="middle" x="1512.5" y="-280.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> replay /</text>
<text text-anchor="middle" x="1512.5" y="-265.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">stop_timer(time_out);</text>
</g>
<!-- playing&#45;&gt;playing -->
<g id="edge4" class="edge">
<title>playing&#45;&gt;playing</title>
<path fill="none" stroke="#000000" d="M1429.6306,-289.6682C1505.9504,-290.4034 1577.5,-286.1807 1577.5,-277 1577.5,-268.2317 1512.2343,-263.986 1439.8809,-264.2627"/>
<polygon fill="#000000" stroke="#000000" points="1439.6067,-260.7644 1429.6306,-264.3318 1439.654,-267.7642 1439.6067,-260.7644"/>
<text text-anchor="middle" x="1676.5" y="-280.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> next /</text>
<text text-anchor="middle" x="1676.5" y="-265.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">load_next_message_in_queue();</text>
</g>
<!-- recording&#45;&gt;listening -->
<g id="edge16" class="edge">
<title>recording&#45;&gt;listening</title>
<path fill="none" stroke="#000000" d="M94.0438,-161.2335C72.9043,-195.8039 37.7303,-266.8713 72.5,-312 107.2461,-357.098 461.8026,-386.1615 650.9917,-398.581"/>
<polygon fill="#000000" stroke="#000000" points="650.7791,-402.0745 660.9854,-399.2317 651.234,-395.0893 650.7791,-402.0745"/>
<text text-anchor="middle" x="111.5" y="-288.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> done /</text>
<text text-anchor="middle" x="111.5" y="-273.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">send_data();</text>
<text text-anchor="middle" x="111.5" y="-258.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">tts_error(ok);</text>
</g>
<!-- exception&#45;&gt;listening -->
<g id="edge17" class="edge">
<title>exception&#45;&gt;listening</title>
<path fill="none" stroke="#000000" d="M301.936,-162.6939C237.6539,-174.664 171.196,-188.2413 166.5,-194 130.3935,-238.2777 170.5671,-279.4193 217.5,-312 285.8789,-359.4685 510.1178,-385.3086 650.5726,-397.1889"/>
<polygon fill="#000000" stroke="#000000" points="650.6998,-400.7116 660.9561,-398.0547 651.2815,-393.7358 650.6998,-400.7116"/>
<text text-anchor="middle" x="234.5" y="-273.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> done</text>
</g>
</g>
</svg>
